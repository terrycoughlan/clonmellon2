"use strict";(self.webpackChunkclonmellon=self.webpackChunkclonmellon||[]).push([[461],{8461:(_,h,r)=>{r.r(h),r.d(h,{CustomersModule:()=>p,routes:()=>U});var u=r(6895),d=r(9132),i=r(4006),f=r(4163),g=r(4333),m=r(5412),e=r(4650),c=r(1576),y=r(3238),v=r(4859),T=r(4144),A=r(9549),b=r(4385),q=r(3848);function I(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"First name is required"),e.qZA())}function x(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Last name is required"),e.qZA())}function S(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Username is required"),e.qZA())}function P(o,a){if(1&o&&(e.TgZ(0,"mat-option",15)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(2),e.Oqu(t.name)}}function F(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"First name is required"),e.qZA())}function J(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Last name is required"),e.qZA())}function L(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Email is required"),e.qZA())}function w(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Phone is required"),e.qZA())}function B(o,a){if(1&o&&(e.TgZ(0,"mat-option",15),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function D(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Country is required"),e.qZA())}function Y(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"City is required"),e.qZA())}function z(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Zip/Postal Code is required"),e.qZA())}function Q(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Address is required"),e.qZA())}class Z{constructor(a,t,l){this.dialogRef=a,this.data=t,this.fb=l}ngOnInit(){this.form=this.fb.group({id:0,username:["",i.kI.required],email:null,firstName:["",i.kI.required],lastName:["",i.kI.required],middleName:null,storeId:null,walletBalance:null,revenue:null,billing:this.fb.group({firstName:["",i.kI.required],lastName:["",i.kI.required],middleName:"",company:"",email:["",i.kI.required],phone:["",i.kI.required],country:["",i.kI.required],city:["",i.kI.required],state:"",zip:["",i.kI.required],address:["",i.kI.required]})}),this.data.customer&&this.form.patchValue(this.data.customer)}onSubmit(){console.log(this.form.value),this.form.valid&&this.dialogRef.close(this.form.value)}compareFunction(a,t){return a.name==t.name&&a.code==t.code}}Z.\u0275fac=function(a){return new(a||Z)(e.Y36(m.so),e.Y36(m.WI),e.Y36(i.QS))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-customer-dialog"]],decls:127,vars:15,consts:[["mat-dialog-title",""],["autocomplete","off",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"tab-content-wrapped"],["label","General Info"],["fxLayout","row wrap",1,"mt-3"],["fxFlex","100","fxFlex.gt-sm","33.3",1,"px-2"],["appearance","outline",1,"w-100"],["matInput","","placeholder","First name","formControlName","firstName","required",""],[4,"ngIf"],["matInput","","placeholder","Last name","formControlName","lastName","required",""],["matInput","","placeholder","Middle Name/Initial","formControlName","middleName"],["matInput","","placeholder","Username","formControlName","username","required",""],["matInput","","placeholder","Email","formControlName","email"],["formControlName","storeId"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","walletBalance"],["matInput","","formControlName","revenue"],["label","Billing","formGroupName","billing"],["matInput","","placeholder","Company","formControlName","company"],["matInput","","placeholder","Email","formControlName","email","required",""],["matInput","","placeholder","Phone","formControlName","phone","required",""],["fxFlex","100","fxFlex.gt-sm","25",1,"px-2"],["placeholder","Country","formControlName","country","required","",3,"compareWith"],["matInput","","placeholder","City","formControlName","city","required",""],["matInput","","placeholder","State/Province","formControlName","state"],["matInput","","placeholder","Zip/Postal Code","formControlName","zip","required",""],["fxFlex","100",1,"px-2"],["matInput","","placeholder","Address (street, apartment, suite, unit etc.)","formControlName","address","required",""],["mat-dialog-actions",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],["mat-raised-button","","color","warn","type","button","mat-dialog-close",""],["mat-raised-button","","color","primary","type","submit"]],template:function(a,t){1&a&&(e.TgZ(0,"h1",0),e._uU(1,"Customer"),e.qZA(),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(3,"div",2)(4,"mat-tab-group",3)(5,"mat-tab",4)(6,"div",5)(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),e._uU(10,"First name"),e.qZA(),e._UZ(11,"input",8),e.YNc(12,I,2,0,"mat-error",9),e.qZA()(),e.TgZ(13,"div",6)(14,"mat-form-field",7)(15,"mat-label"),e._uU(16,"Last name"),e.qZA(),e._UZ(17,"input",10),e.YNc(18,x,2,0,"mat-error",9),e.qZA()(),e.TgZ(19,"div",6)(20,"mat-form-field",7)(21,"mat-label"),e._uU(22,"Middle Name/Initial"),e.qZA(),e._UZ(23,"input",11),e.qZA()(),e.TgZ(24,"div",6)(25,"mat-form-field",7)(26,"mat-label"),e._uU(27,"Username"),e.qZA(),e._UZ(28,"input",12),e.YNc(29,S,2,0,"mat-error",9),e.qZA()(),e.TgZ(30,"div",6)(31,"mat-form-field",7)(32,"mat-label"),e._uU(33,"Email"),e.qZA(),e._UZ(34,"input",13),e.qZA()(),e.TgZ(35,"div",6)(36,"mat-form-field",7)(37,"mat-label"),e._uU(38,"Store"),e.qZA(),e.TgZ(39,"mat-select",14)(40,"mat-option",15),e._uU(41,"-"),e.qZA(),e.YNc(42,P,3,2,"mat-option",16),e.qZA()()(),e.TgZ(43,"div",6)(44,"mat-form-field",7)(45,"mat-label"),e._uU(46,"Wallet Balance ($)"),e.qZA(),e._UZ(47,"input",17),e.qZA()(),e.TgZ(48,"div",6)(49,"mat-form-field",7)(50,"mat-label"),e._uU(51,"Revenue ($)"),e.qZA(),e._UZ(52,"input",18),e.qZA()()()(),e.TgZ(53,"mat-tab",19)(54,"div",5)(55,"div",6)(56,"mat-form-field",7)(57,"mat-label"),e._uU(58,"First name"),e.qZA(),e._UZ(59,"input",8),e.YNc(60,F,2,0,"mat-error",9),e.qZA()(),e.TgZ(61,"div",6)(62,"mat-form-field",7)(63,"mat-label"),e._uU(64,"Last name"),e.qZA(),e._UZ(65,"input",10),e.YNc(66,J,2,0,"mat-error",9),e.qZA()(),e.TgZ(67,"div",6)(68,"mat-form-field",7)(69,"mat-label"),e._uU(70,"Middle Name/Initial"),e.qZA(),e._UZ(71,"input",11),e.qZA()(),e.TgZ(72,"div",6)(73,"mat-form-field",7)(74,"mat-label"),e._uU(75,"Company"),e.qZA(),e._UZ(76,"input",20),e.qZA()(),e.TgZ(77,"div",6)(78,"mat-form-field",7)(79,"mat-label"),e._uU(80,"Email"),e.qZA(),e._UZ(81,"input",21),e.YNc(82,L,2,0,"mat-error",9),e.qZA()(),e.TgZ(83,"div",6)(84,"mat-form-field",7)(85,"mat-label"),e._uU(86,"Phone"),e.qZA(),e._UZ(87,"input",22),e.YNc(88,w,2,0,"mat-error",9),e.qZA()(),e.TgZ(89,"div",23)(90,"mat-form-field",7)(91,"mat-label"),e._uU(92,"Country"),e.qZA(),e.TgZ(93,"mat-select",24)(94,"mat-option",15),e._uU(95,"-"),e.qZA(),e.YNc(96,B,2,2,"mat-option",16),e.qZA(),e.YNc(97,D,2,0,"mat-error",9),e.qZA()(),e.TgZ(98,"div",23)(99,"mat-form-field",7)(100,"mat-label"),e._uU(101,"City"),e.qZA(),e._UZ(102,"input",25),e.YNc(103,Y,2,0,"mat-error",9),e.qZA()(),e.TgZ(104,"div",23)(105,"mat-form-field",7)(106,"mat-label"),e._uU(107,"State/Province"),e.qZA(),e._UZ(108,"input",26),e.qZA()(),e.TgZ(109,"div",23)(110,"mat-form-field",7)(111,"mat-label"),e._uU(112,"Zip/Postal Code"),e.qZA(),e._UZ(113,"input",27),e.YNc(114,z,2,0,"mat-error",9),e.qZA()(),e.TgZ(115,"div",28)(116,"mat-form-field",7)(117,"mat-label"),e._uU(118,"Address"),e.qZA(),e._UZ(119,"input",29),e.YNc(120,Q,2,0,"mat-error",9),e.qZA()()()()()(),e.TgZ(121,"div",30)(122,"div",31)(123,"button",32),e._uU(124,"Close"),e.qZA(),e.TgZ(125,"button",33),e._uU(126,"Save"),e.qZA()()()()),2&a&&(e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(10),e.Q6J("ngIf",null==t.form.controls.firstName.errors?null:t.form.controls.firstName.errors.required),e.xp6(6),e.Q6J("ngIf",null==t.form.controls.lastName.errors?null:t.form.controls.lastName.errors.required),e.xp6(11),e.Q6J("ngIf",null==t.form.controls.username.errors?null:t.form.controls.username.errors.required),e.xp6(13),e.Q6J("ngForOf",t.data.stores),e.xp6(18),e.Q6J("ngIf",null==t.form.get("billing").controls.firstName.errors?null:t.form.get("billing").controls.firstName.errors.required),e.xp6(6),e.Q6J("ngIf",null==t.form.get("billing").controls.lastName.errors?null:t.form.get("billing").controls.lastName.errors.required),e.xp6(16),e.Q6J("ngIf",null==t.form.get("billing").controls.email.errors?null:t.form.get("billing").controls.email.errors.required),e.xp6(6),e.Q6J("ngIf",null==t.form.get("billing").controls.phone.errors?null:t.form.get("billing").controls.phone.errors.required),e.xp6(5),e.Q6J("compareWith",t.compareFunction),e.xp6(3),e.Q6J("ngForOf",t.data.countries),e.xp6(1),e.Q6J("ngIf",null==t.form.get("billing").controls.country.errors?null:t.form.get("billing").controls.country.errors.required),e.xp6(6),e.Q6J("ngIf",null==t.form.get("billing").controls.city.errors?null:t.form.get("billing").controls.city.errors.required),e.xp6(11),e.Q6J("ngIf",null==t.form.get("billing").controls.zip.errors?null:t.form.get("billing").controls.zip.errors.required),e.xp6(6),e.Q6J("ngIf",null==t.form.get("billing").controls.address.errors?null:t.form.get("billing").controls.address.errors.required))},dependencies:[u.sg,u.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,i.x0,c.xw,c.Wh,c.yH,y.ey,v.lW,m.ZT,m.uh,m.xY,m.H8,T.Nt,A.KE,A.hX,A.TO,b.gD,q.uX,q.SP]});var M=r(2887);const O=[{id:1,username:"bruno.v",email:"bruno@company.com",firstName:"Bruno",lastName:"Vespa",middleName:"",storeId:2,walletBalance:5255,revenue:3450,billing:{firstName:"Bruno",lastName:"Vespa",middleName:"",company:"Company 1",email:"bruno@company.com",phone:"(415) 231-0332",country:{name:"United States",code:"US"},city:"Los Angeles",state:"California",zip:"90201",address:"Palos Verdes Peninsula"}},{id:2,username:"andy.79",email:"warhol@gmail.com",firstName:"Andy",lastName:"Warhol",middleName:"",storeId:1,walletBalance:8055,revenue:7200,billing:{firstName:"Andy",lastName:"Warhol",middleName:"",company:"Company 1",email:"warhol@gmail.com",phone:"(+353) 87 1234567",country:{name:"United States",code:"US"},city:"Los Angeles",state:"California",zip:"90201",address:"Palos Verdes Peninsula"}},{id:3,username:"pretty",email:"ashley@gmail.com",firstName:"Ashley",lastName:"Ahlberg",middleName:"",storeId:1,walletBalance:17200,revenue:2200,billing:{firstName:"Ashley",lastName:"Ahlberg",middleName:"",company:"Company 5",email:"ashley@gmail.com",phone:"(+353) 87 1234567",country:{name:"United States",code:"US"},city:"Los Angeles",state:"California",zip:"90201",address:"Palos Verdes Peninsula"}},{id:4,username:"julia.a",email:"julia@gmail.com",firstName:"Julia",lastName:"Aniston",middleName:"",storeId:2,walletBalance:9480,revenue:1470,billing:{firstName:"Julia",lastName:"Aniston",middleName:"",company:"Company 5",email:"julia@gmail.com",phone:"(+353) 87 1234567",country:{name:"United States",code:"US"},city:"Los Angeles",state:"California",zip:"90201",address:"Palos Verdes Peninsula"}},{id:5,username:"lusia.m",email:"lusia@gmail.com",firstName:"Lusia",lastName:"Manuel",middleName:"",storeId:1,walletBalance:6200,revenue:3250,billing:{firstName:"Lusia",lastName:"Manuel",middleName:"",company:"Company 4",email:"lusia@gmail.com",phone:"(+353) 87 1234567",country:{name:"United States",code:"US"},city:"Los Angeles",state:"California",zip:"90201",address:"Palos Verdes Peninsula"}},{id:6,username:"adam.s",email:"adam@gmail.com",firstName:"Adam",lastName:"Sandler",middleName:"",storeId:2,walletBalance:7580,revenue:2950,billing:{firstName:"Adam",lastName:"Sandler",middleName:"",company:"Company 1",email:"adam@gmail.com",phone:"(+353) 87 1234567",country:{name:"United States",code:"US"},city:"Los Angeles",state:"California",zip:"90201",address:"Palos Verdes Peninsula"}},{id:7,username:"tereza.s",email:"tereza@gmail.com",firstName:"Tereza",lastName:"Stiles",middleName:"",storeId:2,walletBalance:5240,revenue:1095,billing:{firstName:"Tereza",lastName:"Stiles",middleName:"",company:"Company 3",email:"tereza@gmail.com",phone:"(+353) 87 1234567",country:{name:"United States",code:"US"},city:"Los Angeles",state:"California",zip:"90201",address:"Palos Verdes Peninsula"}},{id:8,username:"michael.b",email:"michael@gmail.com",firstName:"Michael",lastName:"Blair",middleName:"",storeId:2,walletBalance:7340,revenue:4580,billing:{firstName:"Michael",lastName:"Blair",middleName:"",company:"Company 3",email:"michael@gmail.com",phone:"(+353) 87 1234567",country:{name:"United States",code:"US"},city:"Los Angeles",state:"California",zip:"90201",address:"Palos Verdes Peninsula"}}];var E=r(900),W=r(1182),V=r(3546),H=r(7392),j=r(4850),R=r(266),$=r(6660);function G(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9),e._uU(2),e.qZA(),e.TgZ(3,"div",9),e._uU(4),e.qZA(),e.TgZ(5,"div",9),e._uU(6),e.qZA(),e.TgZ(7,"div",9),e._uU(8),e.ALo(9,"filterById"),e.qZA(),e.TgZ(10,"div",9),e._uU(11),e.qZA(),e.TgZ(12,"div",9),e._uU(13),e.qZA(),e.TgZ(14,"div",9)(15,"div",10)(16,"button",11),e.NdJ("click",function(){const s=e.CHM(t).$implicit,N=e.oxw();return e.KtG(N.openCustomerDialog(s))}),e.TgZ(17,"mat-icon"),e._uU(18,"edit"),e.qZA()(),e.TgZ(19,"button",12),e.NdJ("click",function(){const s=e.CHM(t).$implicit,N=e.oxw();return e.KtG(N.remove(s))}),e.TgZ(20,"mat-icon"),e._uU(21,"delete"),e.qZA()()()()()}if(2&o){const t=a.$implicit,l=e.oxw();let n;e.xp6(2),e.AsE("",t.firstName," ",t.lastName,""),e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(null==(n=e.xi3(9,7,l.stores,t.storeId))?null:n.name),e.xp6(3),e.hij("\u20ac",t.walletBalance.toFixed(2),""),e.xp6(2),e.hij("\u20ac",t.revenue.toFixed(2),"")}}function X(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"mat-card",15)(3,"pagination-controls",16),e.NdJ("pageChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onPageChanged(n))}),e.qZA()()()()}}const K=function(o,a){return{itemsPerPage:o,currentPage:a}};class C{constructor(a,t,l){this.appService=a,this.dialog=t,this.appSettings=l,this.customers=[],this.stores=[{id:1,name:"Store 1"},{id:2,name:"Store 2"}],this.countries=[],this.count=6,this.settings=this.appSettings.settings}ngOnInit(){this.countries=this.appService.getCountries(),this.customers=O}onPageChanged(a){this.page=a,window.scrollTo(0,0)}openCustomerDialog(a){this.dialog.open(Z,{data:{customer:a,stores:this.stores,countries:this.countries},panelClass:["theme-dialog"],autoFocus:!1,direction:this.settings.rtl?"rtl":"ltr"}).afterClosed().subscribe(l=>{if(l){const n=this.customers.findIndex(s=>s.id==l.id);-1!==n?this.customers[n]=l:(l.id=this.customers[this.customers.length-1].id+1,this.customers.push(l))}})}remove(a){this.dialog.open(M.$,{maxWidth:"400px",data:{title:"Confirm Action",message:"Are you sure you want remove this customer?"}}).afterClosed().subscribe(l=>{if(l){const n=this.customers.indexOf(a);-1!==n&&this.customers.splice(n,1)}})}}C.\u0275fac=function(a){return new(a||C)(e.Y36(E.z),e.Y36(m.uw),e.Y36(W.d))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-customers"]],decls:26,vars:8,consts:[[1,"p-2"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-3"],["mat-raised-button","","color","primary",3,"click"],[1,"mat-mdc-table","admin-table"],[1,"mat-mdc-header-row"],[1,"mat-mdc-header-cell"],["class","mat-mdc-row",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],[1,"mat-mdc-row"],[1,"mat-mdc-cell"],[1,"p-2","actions"],["mat-mini-fab","","color","primary","matTooltip","Edit",3,"click"],["mat-mini-fab","","color","warn","matTooltip","Delete",1,"mx-1",3,"click"],["fxLayout","row wrap"],["fxFlex","100"],[1,"text-center"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"mat-card")(2,"div",1)(3,"h2"),e._uU(4,"Customers List"),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return t.openCustomerDialog(null)}),e._uU(6,"Add Customer"),e.qZA()(),e._UZ(7,"mat-divider"),e.TgZ(8,"div",3)(9,"div",4)(10,"div",5),e._uU(11,"Full Name"),e.qZA(),e.TgZ(12,"div",5),e._uU(13,"Username"),e.qZA(),e.TgZ(14,"div",5),e._uU(15,"Email"),e.qZA(),e.TgZ(16,"div",5),e._uU(17,"Store"),e.qZA(),e.TgZ(18,"div",5),e._uU(19,"Wallet Balance"),e.qZA(),e.TgZ(20,"div",5),e._uU(21,"Revenue"),e.qZA(),e._UZ(22,"div",5),e.qZA(),e.YNc(23,G,22,10,"div",6),e.ALo(24,"paginate"),e.qZA()(),e.YNc(25,X,4,0,"div",7),e.qZA()),2&a&&(e.xp6(23),e.Q6J("ngForOf",e.xi3(24,2,t.customers,e.WLB(5,K,t.count,t.page))),e.xp6(2),e.Q6J("ngIf",t.customers.length>0))},dependencies:[u.sg,u.O5,c.xw,c.Wh,c.yH,v.lW,v.nh,V.a8,H.Hw,j.d,R.gM,g.LS,$.H,g._s]});const U=[{path:"",component:C,pathMatch:"full"}];class p{}p.\u0275fac=function(a){return new(a||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[u.ez,d.Bz.forChild(U),i.UX,f.m,g.JX]})},6660:(_,h,r)=>{r.d(h,{H:()=>d});var u=r(4650);class d{transform(f,g){return f.filter(m=>m.id==g)[0]}}d.\u0275fac=function(f){return new(f||d)},d.\u0275pipe=u.Yjl({name:"filterById",type:d,pure:!0})}}]);