"use strict";(self.webpackChunkclonmellon=self.webpackChunkclonmellon||[]).push([[463],{463:(A,v,s)=>{s.r(v),s.d(v,{ReviewsModule:()=>_,routes:()=>b});var a=s(6895),l=s(9132),h=s(4163),m=s(4333),f=s(2887),t=s(4650),p=s(5412),n=s(1576),d=s(4859),o=s(3546),T=s(7392),Z=s(4850),C=s(266),w=s(9515),I=s(6660);function y(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit,g=t.oxw();return t.KtG(g.unApprove(c))}),t.TgZ(1,"mat-icon"),t._uU(2,"undo"),t.qZA()()}}function U(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"mat-icon",12),t.ALo(3,"filterById"),t._uU(4),t.qZA()(),t.TgZ(5,"div",13),t._UZ(6,"img",14),t.qZA(),t.TgZ(7,"div",15),t._uU(8),t.qZA(),t.TgZ(9,"div",15),t._uU(10),t.qZA(),t.TgZ(11,"div",16),t._UZ(12,"app-rating",17),t.qZA(),t.TgZ(13,"div",15),t._uU(14),t.ALo(15,"filterById"),t.qZA(),t.TgZ(16,"div",15),t._uU(17),t.ALo(18,"date"),t.qZA(),t.TgZ(19,"div",15)(20,"div",18),t.YNc(21,y,3,0,"button",19),t.TgZ(22,"button",20),t.NdJ("click",function(){const g=t.CHM(e).$implicit,R=t.oxw();return t.KtG(R.remove(g))}),t.TgZ(23,"mat-icon"),t._uU(24,"delete"),t.qZA()()()()()}if(2&i){const e=r.$implicit,u=t.oxw();let c,g;t.xp6(2),t.Q6J("color",1==e.statusId?"primary":"warn")("matTooltip",null==(c=t.xi3(3,13,u.statuses,e.statusId))?null:c.name),t.xp6(2),t.Oqu(1==e.statusId?"check_circle":"access_time"),t.xp6(2),t.Q6J("src",e.image,t.LSH),t.xp6(2),t.Oqu(e.author),t.xp6(2),t.Oqu(e.comment),t.xp6(2),t.Q6J("ratingsCount",null==e?null:e.ratingsCount)("ratingsValue",null==e?null:e.ratingsValue)("showText",!1)("direction","row"),t.xp6(2),t.Oqu(null==(g=t.xi3(15,16,u.stores,e.storeId))?null:g.name),t.xp6(3),t.Oqu(t.xi3(18,19,e.date,"dd MMMM, yyyy 'at' HH:mm")),t.xp6(4),t.Q6J("ngIf",1==e.statusId)}}function M(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",22)(1,"div",23)(2,"mat-card",24)(3,"pagination-controls",25),t.NdJ("pageChange",function(c){t.CHM(e);const g=t.oxw();return t.KtG(g.onPageChanged(c))}),t.qZA()()()()}}const O=function(i,r){return{itemsPerPage:i,currentPage:r}};class x{constructor(r){this.dialog=r,this.reviews=[{id:1,statusId:1,image:"assets/images/profile/michael.jpg",author:"Michael Blair",comment:"lorem ipsum",ratingsCount:4,ratingsValue:350,storeId:1,date:new Date(2020,1,15,14,30)},{id:2,statusId:2,image:"assets/images/profile/tereza.jpg",author:"Tereza Stiles",comment:"lorem ipsum",ratingsCount:3,ratingsValue:290,storeId:2,date:new Date(2020,2,5,22,20)},{id:3,statusId:2,image:"assets/images/profile/adam.jpg",author:"Adam Sandler",comment:"lorem ipsum",ratingsCount:5,ratingsValue:450,storeId:1,date:new Date(2020,3,29,13,15)},{id:4,statusId:1,image:"assets/images/profile/julia.jpg",author:"Julia Aniston",comment:"lorem ipsum",ratingsCount:4,ratingsValue:350,storeId:2,date:new Date(2020,4,12,11,50)},{id:5,statusId:2,image:"assets/images/profile/bruno.jpg",author:"Bruno Vespa",comment:"lorem ipsum",ratingsCount:3,ratingsValue:300,storeId:2,date:new Date(2020,5,5,16,25)},{id:6,statusId:1,image:"assets/images/profile/ashley.jpg",author:"Ashley Ahlberg",comment:"lorem ipsum",ratingsCount:5,ratingsValue:300,storeId:1,date:new Date(2020,6,18,12,30)},{id:7,statusId:1,image:"assets/images/avatars/avatar-5.png",author:"Michelle Ormond",comment:"lorem ipsum",ratingsCount:4,ratingsValue:300,storeId:1,date:new Date(2020,6,28,17,23)}],this.statuses=[{id:1,name:"Approved"},{id:2,name:"Pending"}],this.stores=[{id:1,name:"Store 1"},{id:2,name:"Store 2"}],this.count=6}ngOnInit(){}onPageChanged(r){this.page=r,window.scrollTo(0,0)}unApprove(r){const e=this.reviews.findIndex(u=>u.id==r.id);-1!==e&&(r.statusId=2,this.reviews[e]=r)}remove(r){this.dialog.open(f.$,{maxWidth:"400px",data:{title:"Confirm Action",message:"Are you sure you want remove this review?"}}).afterClosed().subscribe(u=>{if(u){const c=this.reviews.indexOf(r);-1!==c&&this.reviews.splice(c,1)}})}}x.\u0275fac=function(r){return new(r||x)(t.Y36(p.uw))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-reviews"]],decls:25,vars:8,consts:[[1,"p-2"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-3"],[1,"mat-mdc-table","admin-table"],[1,"mat-mdc-header-row"],[1,"mat-mdc-header-cell","status"],[1,"mat-mdc-header-cell","image"],[1,"mat-mdc-header-cell"],[1,"mat-mdc-header-cell","ratings"],["class","mat-mdc-row",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],[1,"mat-mdc-row"],[1,"mat-mdc-cell","status"],[3,"color","matTooltip"],[1,"mat-mdc-cell","image"],["alt","","width","50",3,"src"],[1,"mat-mdc-cell"],[1,"mat-mdc-cell","ratings"],[3,"ratingsCount","ratingsValue","showText","direction"],[1,"p-2","actions"],["mat-mini-fab","","color","primary","matTooltip","UnApprove",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn","matTooltip","Delete",1,"mx-1",3,"click"],["mat-mini-fab","","color","primary","matTooltip","UnApprove",3,"click"],["fxLayout","row wrap"],["fxFlex","100"],[1,"text-center"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"div",1)(3,"h2"),t._uU(4,"Store Reviews"),t.qZA()(),t._UZ(5,"mat-divider"),t.TgZ(6,"div",2)(7,"div",3),t._UZ(8,"div",4),t.TgZ(9,"div",5),t._uU(10,"Image"),t.qZA(),t.TgZ(11,"div",6),t._uU(12,"Author"),t.qZA(),t.TgZ(13,"div",6),t._uU(14,"Comment"),t.qZA(),t.TgZ(15,"div",7),t._uU(16,"Rating"),t.qZA(),t.TgZ(17,"div",6),t._uU(18,"Store"),t.qZA(),t.TgZ(19,"div",6),t._uU(20,"Date"),t.qZA(),t._UZ(21,"div",6),t.qZA(),t.YNc(22,U,25,22,"div",8),t.ALo(23,"paginate"),t.qZA()(),t.YNc(24,M,4,0,"div",9),t.qZA()),2&r&&(t.xp6(22),t.Q6J("ngForOf",t.xi3(23,2,e.reviews,t.WLB(5,O,e.count,e.page))),t.xp6(2),t.Q6J("ngIf",e.reviews.length>0))},dependencies:[a.sg,a.O5,n.xw,n.Wh,n.yH,d.nh,o.a8,T.Hw,Z.d,C.gM,w.A,m.LS,a.uU,I.H,m._s]});const b=[{path:"",component:x,pathMatch:"full"}];class _{}_.\u0275fac=function(r){return new(r||_)},_.\u0275mod=t.oAB({type:_}),_.\u0275inj=t.cJS({imports:[a.ez,l.Bz.forChild(b),h.m,m.JX]})},9515:(A,v,s)=>{s.d(v,{A:()=>p});var a=s(4650),l=s(6895),h=s(1576),m=s(7392);function f(n,d){if(1&n){const o=a.EpF();a.TgZ(0,"mat-icon",4),a.NdJ("click",function(){const C=a.CHM(o).index,w=a.oxw();return a.KtG(w.rate(C))}),a._uU(1),a.qZA()}if(2&n){const o=d.$implicit;a.xp6(1),a.Oqu(o)}}function t(n,d){if(1&n&&(a.TgZ(0,"p",5),a._uU(1),a.qZA()),2&n){const o=a.oxw();a.xp6(1),a.hij("",o.ratingsCount," ratings")}}class p{constructor(){this.showText=!0}ngDoCheck(){this.ratingsCount&&this.ratingsValue&&!this.avg&&this.calculateAvgValue()}rate(d){}calculateAvgValue(){switch(this.avg=this.ratingsValue/this.ratingsCount,!0){case this.avg>0&&this.avg<20:this.stars=["star_half","star_border","star_border","star_border","star_border"];break;case 20==this.avg:this.stars=["star","star_border","star_border","star_border","star_border"];break;case this.avg>20&&this.avg<40:this.stars=["star","star_half","star_border","star_border","star_border"];break;case 40==this.avg:this.stars=["star","star","star_border","star_border","star_border"];break;case this.avg>40&&this.avg<60:this.stars=["star","star","star_half","star_border","star_border"];break;case 60==this.avg:this.stars=["star","star","star","star_border","star_border"];break;case this.avg>60&&this.avg<80:this.stars=["star","star","star","star_half","star_border"];break;case 80==this.avg:this.stars=["star","star","star","star","star_border"];break;case this.avg>80&&this.avg<100:this.stars=["star","star","star","star","star_half"];break;case this.avg>=100:this.stars=["star","star","star","star","star"];break;default:this.stars=["star_border","star_border","star_border","star_border","star_border"]}}}p.\u0275fac=function(d){return new(d||p)},p.\u0275cmp=a.Xpm({type:p,selectors:[["app-rating"]],inputs:{ratingsCount:"ratingsCount",ratingsValue:"ratingsValue",direction:"direction",showText:"showText"},decls:4,vars:4,consts:[[3,"fxLayout","fxLayoutAlign"],[1,"ratings"],["class","mat-icon-xs",3,"click",4,"ngFor","ngForOf"],["class","ratings-count text-muted",4,"ngIf"],[1,"mat-icon-xs",3,"click"],[1,"ratings-count","text-muted"]],template:function(d,o){1&d&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,f,2,1,"mat-icon",2),a.qZA(),a.YNc(3,t,2,1,"p",3),a.qZA()),2&d&&(a.Q6J("fxLayout",o.direction)("fxLayoutAlign","row"==o.direction?"start center":"center end"),a.xp6(2),a.Q6J("ngForOf",o.stars),a.xp6(1),a.Q6J("ngIf",o.showText))},dependencies:[l.sg,l.O5,h.xw,h.Wh,m.Hw],styles:[".ratings[_ngcontent-%COMP%]{color:#fbc02d}.ratings-count[_ngcontent-%COMP%]{margin-left:12px;font-weight:500}"]})},6660:(A,v,s)=>{s.d(v,{H:()=>l});var a=s(4650);class l{transform(m,f){return m.filter(t=>t.id==f)[0]}}l.\u0275fac=function(m){return new(m||l)},l.\u0275pipe=a.Yjl({name:"filterById",type:l,pure:!0})}}]);